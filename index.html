<!DOCTYPE html>
<html>
<head>
    <style>
        :root { --primary: #0a66c2; --secondary: #d32f2f; --bg: #f3f6f8; }
        body { font-family: 'Segoe UI', Arial, sans-serif; background: var(--bg); margin: 0; padding: 15px; }
        
        /* HEADER & FILTERS */
        .controls { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); margin-bottom: 20px; position: sticky; top: 0; z-index: 100; }
        .search-bar { display: flex; gap: 10px; margin-bottom: 15px; }
        input { flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 6px; outline: none; }
        
        /* JOB CARDS */
        .job-card { background: white; border-radius: 10px; padding: 20px; margin-bottom: 15px; border: 1px solid #e0e0e0; transition: 0.3s; }
        .job-card:hover { transform: translateY(-3px); box-shadow: 0 6px 15px rgba(0,0,0,0.1); border-color: var(--primary); }
        
        .company { color: var(--secondary); font-weight: 800; font-size: 0.75rem; text-transform: uppercase; }
        .title { color: var(--primary); font-size: 1.2rem; font-weight: 700; text-decoration: none; display: block; margin: 5px 0; }
        
        .description { font-size: 0.9rem; color: #555; line-height: 1.5; margin: 10px 0; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        
        /* INFO BAR (CTC, EXP, LOC) */
        .info-bar { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 15px; padding-top: 10px; border-top: 1px solid #f0f0f0; }
        .badge { font-size: 0.75rem; padding: 5px 12px; border-radius: 20px; font-weight: 600; display: flex; align-items: center; gap: 5px; }
        .badge-ctc { background: #e6f4ea; color: #1e7e34; }
        .badge-exp { background: #e8eaf6; color: #3f51b5; }
        .badge-loc { background: #fff3e0; color: #e65100; }
    </style>
</head>
<body>

    <div class="controls">
        <div class="search-bar">
            <input type="text" id="locInput" placeholder="Filter by Location (e.g. Mumbai, Remote)" onkeyup="applyFilters()">
            <input type="text" id="jobInput" placeholder="Search Role or Company" onkeyup="applyFilters()">
        </div>
    </div>

    <div id="jobList"></div>

    <script>
        let allJobs = [];

        async function init() {
            const res = await fetch('./jobs.json');
            allJobs = await res.json();
            applyFilters();
        }

        function applyFilters() {
            const locTerm = document.getElementById('locInput').value.toLowerCase();
            const jobTerm = document.getElementById('jobInput').value.toLowerCase();
            
            const filtered = allJobs.filter(j => 
                j.location.toLowerCase().includes(locTerm) && 
                (j.title.toLowerCase().includes(jobTerm) || j.company.toLowerCase().includes(jobTerm))
            );
            render(filtered);
        }

        function render(data) {
            const container = document.getElementById('jobList');
            container.innerHTML = data.map(j => `
                <div class="job-card">
                    <div class="company">${j.company}</div>
                    <a href="${j.link}" target="_blank" class="title">${j.title}</a>
                    <div class="description">${j.desc}</div>
                    
                    <div class="info-bar">
                        <span class="badge badge-loc">üìç ${j.location}</span>
                        <span class="badge badge-exp">üíº ${j.exp}</span>
                        <span class="badge badge-ctc">üí∞ ${j.ctc}</span>
                        <span style="margin-left:auto; font-size:0.7rem; color:#999;">${j.date}</span>
                    </div>
                </div>
            `).join('');
        }
        init();
    </script>
</body>
</html>
